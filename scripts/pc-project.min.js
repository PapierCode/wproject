jQuery(document).ready((function(t){var a=t("html"),e=t(".cart");if(e.length>0){t(".single_add_to_cart_button").attr("title","Ajouter au panier"),t(".variations_form select").prop("selectedIndex",0);var i=function(){t(".pc-cart-total .pc-cart-button").each((function(){var a=t(this).html();t(this).html(a+sprite.cross)}))};i(),t("body").on("updated_cart_totals",(function(){i()}));var n=function(){$btnCartUpdate=e.find("button[name=update_cart]"),$btnCartUpdate.prop("disabled",!1)},o=function(){var a=t(".quantity");a.each((function(){t(this).parent().is("td")||a.find("input").val("1");var e=t(this).find("input");if("number"==e.prop("type")){e.attr("tabindex","-1");var i=Number(e.attr("max"))>0?Number(e.attr("max")):999,o=Number(e.attr("min")),r=Number(e.attr("step"));e.parent().before('<div class="pc-woo-qty no-print" aria-hidden="true"><div class="pc-woo-qty-label">Quantité</div><button class="reset-btn pc-cart-button pc-woo-qty-btn pc-woo-qty-btn--less no-print" type="button" title="Supprimer une unité">'+sprite.less+'</button><div class="pc-woo-qty-counter">'+e.val()+'</div><button class="reset-btn pc-cart-button pc-woo-qty-btn pc-woo-qty-btn--more" type="button" title="Ajouter une unité">'+sprite.more+"</button></div>");var s=t(this).prev().find(".pc-woo-qty-counter"),d=t(this).prev().find(".pc-woo-qty-btn--less"),p=t(this).prev().find(".pc-woo-qty-btn--more");1==Number(e.val())&&d.prop("disabled",!0),Number(e.val())==i&&p.prop("disabled",!0),p.click((function(){t(this).blur();var a=Number(e.val())+r;a<=i&&(s.text(a),e.val(a),n()),a>o&&d.prop("disabled",!1),a==i&&t(this).prop("disabled",!0)})),d.click((function(){t(this).blur();var a=Number(e.val())-r;a>=o&&(s.text(a),e.val(a),n()),a<i&&p.prop("disabled",!1),a==o&&t(this).prop("disabled",!0)}))}}))};o(),t(document.body).on("updated_cart_totals",(function(){e=t(".cart"),t(".pc-woo-qty").length<1&&o()}))}var r=t('input[type="password"]');if(r.length>0){r.each((function(){t(this).wrap('<div class="password-display-box"></div>').before('<button type="button" aria-hidden="true" class="password-display-btn reset-btn" title="Afficher/masquer le mot de passe"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="20" viewBox="0 0 30 20"><path d="M15,6.43A3.66,3.66,0,0,0,11.25,10,3.66,3.66,0,0,0,15,13.57,3.66,3.66,0,0,0,18.75,10,3.66,3.66,0,0,0,15,6.43Zm0,10A6.6,6.6,0,0,1,8.25,10,6.6,6.6,0,0,1,15,3.57,6.6,6.6,0,0,1,21.75,10,6.6,6.6,0,0,1,15,16.43ZM15,0C4.5,0,0,10,0,10S4.5,20,15,20,30,10,30,10,25.5,0,15,0Z"/></svg></button>')}));var s=t(".password-display-btn");s.length>0&&s.click((function(){var a=t(this).next("input");"password"==a.attr("type")?a.attr("type","text"):a.attr("type","password")}))}if("undefined"!=typeof pc_woo_variations&&a.hasClass("is-product")&&e.hasClass("variations_form")){var d=e.data("product_variations"),p=e.find("select"),l={},c=t(".wp-gallery"),u=function(){c.find(".wp-gallery-item--variation").remove(),c.find(".gallery-not-in").removeClass("gallery-not-in").show()};p.each((function(){l["attribute_"+t(this).attr("id")]=""})),p.change((function(){l["attribute_"+t(this).attr("id")]=t(this).val();for(var a=0;a<d.length;a++){var e=d[a];if(JSON.stringify(l)===JSON.stringify(e.attributes)){if(image_id=e.image_id,image_id>0&&pc_woo_variations.hasOwnProperty(image_id)){u(),$variation_in_gallery=c.find('li[data-id="'+image_id+'"'),$variation_in_gallery.length>0&&$variation_in_gallery.addClass("gallery-not-in").hide(),c.prepend(pc_woo_variations[image_id]);break}u()}else c.find(".wp-gallery-item--variation").length>0&&u()}}))}})),document.addEventListener("DOMContentLoaded",(()=>{if(document.querySelector("html").classList.contains("has-map")){const t=document.querySelector("#main-map"),a=L.map("main-map",{center:L.latLng(t.dataset.lat,t.dataset.lng),zoom:14,minZoom:10,maxZoom:18,scrollWheelZoom:!1,tap:!1});L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicGFwaWVyY29kZSIsImEiOiJja203a3E5N3kweXplMnhuNjBuOTV2bmQ1In0.UtKowadsitAGdxDUpMv5aA",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(a);const e=L.divIcon({iconSize:[40,60],iconAnchor:[20,60],className:"map-marker"});L.marker([t.dataset.lat,t.dataset.lng],{icon:e}).addTo(a)}}));